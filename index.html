<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>АвтоРС</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* Стили для верхнего левого угла сайта */
    #student-info {
      position: absolute;
      top: 10px;
      left: 10px;
      background-color: rgba(0, 0, 0, 0.7); /* увеличено значение прозрачности */
      color: #fff;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 0.9rem; /* Размер шрифта для дополнительных надписей */
      z-index: 1000; /* Помещаем элемент поверх других элементов */
    }

    #student-info .student-group {
      font-weight: bold;
    }

    #student-info .student-name {
      font-style: italic;
    }
  </style>

  <!-- Манифест -->
  <link rel="manifest" href="data:application/manifest+json,">
  <script>
    const manifest = {
      "name": "АвтоРС",
      "short_name": "АвтоРС",
      "start_url": ".",
      "display": "standalone",
      "background_color": "#ffffff",
      "description": "Приложение АвтоРС",
      "icons": [
        {
          "src": "icon-192x192.png",
          "sizes": "192x192",
          "type": "image/png"
        },
        {
          "src": "icon-512x512.png",
          "sizes": "512x512",
          "type": "image/png"
        }
      ]
    };

    const blob = new Blob([JSON.stringify(manifest)], { type: 'application/manifest+json' });
    const url = URL.createObjectURL(blob);

    document.querySelector('link[rel="manifest"]').href = url;
  </script>
</head>
<body>
  <div id="student-info">
    <div class="student-group">Работа выполнена студентом группы АС-23-04</div>
    <div class="student-name">Слюнченко Романом</div>
  </div>

  <header>
    <h1>АвтоРС</h1>
    <nav>
      <ul>
        <li><a href="#" class="nav-link" data-section="home">Главная</a></li>
        <li><a href="#" class="nav-link" data-section="reviews">Отзывы</a></li>
        <li><a href="#" class="nav-link" data-section="login">Личный кабинет</a></li>
        <li><a href="#" class="nav-link" data-section="cart">Корзина</a></li>
        <li><a href="#" class="nav-link" data-section="todo">Задачи</a></li>
      </ul>
    </nav>
  </header>

  <section id="home" class="content-section active">
    <h2>Последние объявления</h2>
    <div id="car-list">
      <!-- Здесь будут отображаться карточки с автомобилями -->
    </div>
  </section>

  <section id="reviews" class="content-section">
    <h2>Оставить отзыв</h2>
    <form id="feedbackForm">
      <label for="name">Имя:</label>
      <input type="text" id="name" required>
      <label for="message">Отзыв:</label>
      <textarea id="message" rows="4" required></textarea>
      <label for="date">Дата:</label>
      <input type="date" id="date" required>
      <button type="submit">Отправить</button>
    </form>
    <div id="reviews-list">
      <!-- Здесь будут отзывы -->
    </div>
  </section>

  <section id="login" class="content-section">
    <h2>Личный кабинет</h2>
    <div id="registration">
      <h3>Регистрация</h3>
      <form id="registrationForm">
        <label for="username">Имя пользователя:</label>
        <input type="text" id="username" required>
        <label for="password">Пароль:</label>
        <input type="password" id="password" required>
        <button type="submit">Зарегистрироваться</button>
      </form>
    </div>

    <div id="loginForm">
      <h3>Вход</h3>
      <form id="userLoginForm">
        <label for="loginUsername">Имя пользователя:</label>
        <input type="text" id="loginUsername" required>
        <label for="loginPassword">Пароль:</label>
        <input type="password" id="loginPassword" required>
        <button type="submit">Войти</button>
      </form>
    </div>

    <div id="advertisements" class="hidden">
      <h3>Создать объявление</h3>
      <form id="adForm">
        <label for="adTitle">Название:</label>
        <input type="text" id="adTitle" required>
        <label for="adPrice">Цена:</label>
        <input type="number" id="adPrice" required>
        <label for="adDescription">Описание:</label>
        <textarea id="adDescription" rows="4" required></textarea>
        <label for="adImage">Фото:</label>
        <input type="file" id="adImage" accept="image/*" required>
        <button type="submit">Опубликовать</button>
      </form>
    </div>
  </section>

  <section id="cart" class="content-section">
    <h2>Корзина</h2>
    <div id="cart-list">
      <!-- Здесь будут отображаться товары в корзине -->
    </div>
    <button id="clear-cart">Очистить корзину</button>
  </section>

  <section id="todo" class="content-section">
    <h2>ToDoList</h2>
    <form id="todoForm">
      <label for="task">Задача:</label>
      <input type="text" id="task" required>
      <label for="taskDate">Дата:</label>
      <input type="date" id="taskDate" required>
      <label for="taskColor">Цвет:</label>
      <input type="color" id="taskColor" value="#ffffff">
      <button type="submit">Добавить задачу</button>
    </form>
    <div id="todoList">
      <!-- Здесь будут отображаться задачи -->
    </div>
  </section>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').then(function(registration) {
          console.log('Service Worker зарегистрирован с областью:', registration.scope);
        }).catch(function(error) {
          console.log('Service Worker регистрация провалилась:', error);
        });
      });
    }
  </script>

  <script src="script.js"></script>
</body>
</html>


<style>

/* Основные стили */

body {
  font-family: 'Times New Roman', Times, serif;
  margin: 0;
  padding: 0;
  background: linear-gradient(to bottom, #007aff, #4fc3f7, #b2ebf2);
  color: #fff; /* цвет текста по умолчанию */
}

header {
  background-color: #0000FF; /* изменено на синий цвет */
  color: #fff;
  text-align: center;
  padding: 1.5rem 0;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  position: relative; /* добавлено для позиционирования элементов */
}

header h1 {
  margin: 0;
  font-size: 2.5rem;
  color: #fff; /* изменено на белый цвет */
}

nav ul {
  list-style-type: none;
  padding: 0;
  text-align: center;
  margin: 1rem 0 0 0;
}

nav li {
  display: inline;
  margin-right: 15px;
}

nav a {
  color: #fff; /* изменено на белый цвет */
  text-decoration: none;
  font-weight: bold;
  font-size: 1.1rem;
  transition: color 0.3s ease;
}

nav a:hover {
  color: #b2ebf2;
}

.content-section {
  display: none;
  padding: 2rem;
}

.content-section.active {
  display: block;
}

#car-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}

.card {
  background: #fff;
  padding: 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  color: #000; /* черный цвет текста */
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
}

form {
  margin: 2rem auto;
  width: 80%;
  max-width: 400px; /* Уменьшено до 400px для согласованности с полем входа */
  padding: 2rem;
  background: #f0f0f0;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  color: #000; /* черный цвет текста */
}

form label {
  margin-bottom: 0.5rem;
  font-weight: bold;
  color: #000; /* черный цвет текста */
}

form input[type="text"],
form input[type="date"],
form input[type="number"],
form textarea,
form input[type="file"],
form input[type="password"] {
  margin-bottom: 1rem;
  padding: 0.75rem;
  font-size: 1rem;
  border: 1px solid #ccc;
  border-radius: 4px;
  width: 100%;
  box-sizing: border-box;
  color: #000; /* черный цвет текста */
}

form textarea {
  resize: vertical;
}

form button[type="submit"] {
  padding: 0.75rem 2rem;
  background-color: #007aff;
  color: #fff;
  border: none;
  cursor: pointer;
  border-radius: 4px;
  font-size: 1rem;
  transition: background-color 0.3s ease;
}

form button[type="submit"]:hover {
  background-color: #0056b3;
}

.hidden {
  display: none;
}

/* Стили для кнопок удаления */

.delete-btn {
  display: inline-block;
  background-color: #ff3b30;
  color: #fff;
  border: none;
  padding: 0.5rem 1rem;
  margin-top: 10px;
  cursor: pointer;
  border-radius: 4px;
  transition: background-color 0.3s ease;
}

.delete-btn:hover {
  background-color: #cc2f26;
}

/* Дополнительные стили могут быть добавлены сюда */

/* Стили для верхнего левого угла сайта */
#student-info {
  position: absolute;
  top: 10px;
  left: 10px;
  background-color: rgba(0, 0, 0, 0.5);
  color: #fff;
  padding: 5px 10px;
  border-radius: 4px;
}

@media (max-width: 768px) {
  header nav ul li {
    display: block;
    margin-bottom: 10px;
  }
}

</style>
<script>
// Функция для отображения формы добавления объявления
function showAddForm() {
  var addForm = document.getElementById('addForm');
  addForm.classList.add('active');
}

// Функция для скрытия формы добавления объявления
function hideAddForm() {
  var addForm = document.getElementById('addForm');
  addForm.classList.remove('active');
}

// Функция для удаления карточки объявления
function deleteAd(event) {
  var card = event.target.closest('.card');
  if (card) {
    card.remove();
  }
}

document.addEventListener('DOMContentLoaded', function() {
  const sections = document.querySelectorAll('.content-section');
  const navLinks = document.querySelectorAll('.nav-link');
  const feedbackForm = document.getElementById('feedbackForm');
  const registrationForm = document.getElementById('registrationForm');
  const userLoginForm = document.getElementById('userLoginForm');
  const adForm = document.getElementById('adForm');
  const carList = document.getElementById('car-list');
  const reviewsList = document.getElementById('reviews-list');
  const advertisementsDiv = document.getElementById('advertisements');
  const registrationDiv = document.getElementById('registration');
  const loginDiv = document.getElementById('loginForm');
  const cartList = document.getElementById('cart-list');
  const clearCartButton = document.getElementById('clear-cart');
  const todoForm = document.getElementById('todoForm');
  const todoList = document.getElementById('todoList');

  function showSection(sectionId) {
    sections.forEach(section => {
      section.classList.remove('active');
    });

    const sectionToShow = document.getElementById(sectionId);
    if (sectionToShow) {
      sectionToShow.classList.add('active');
    }
  }

  navLinks.forEach(link => {
    link.addEventListener('click', function(event) {
      event.preventDefault();
      const sectionId = link.getAttribute('data-section');
      showSection(sectionId);
    });
  });

  let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
  let users = JSON.parse(localStorage.getItem('users')) || [];
  let advertisements = JSON.parse(localStorage.getItem('advertisements')) || [];
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  let tasks = JSON.parse(localStorage.getItem('tasks')) || [];

  function renderAdvertisements() {
    carList.innerHTML = '';
    advertisements.forEach(function(advertisement) {
      const adCard = document.createElement('div');
      adCard.classList.add('card');
      adCard.innerHTML = `
        <h2>${advertisement.title}</h2>
        <p><strong>Цена:</strong> ${advertisement.price}</p>
        <p>${advertisement.description}</p>
        <img src="${advertisement.image}" alt="${advertisement.title}">
        <button class="buy-button">Купить</button>
        <button class="add-to-cart-button">Добавить в корзину</button>
        <button class="delete-btn">Удалить объявление</button>
      `;
      carList.appendChild(adCard);

      const buyButton = adCard.querySelector('.buy-button');
      buyButton.addEventListener('click', function() {
        alert(`Вы выбрали покупку: ${advertisement.title}`);
      });

      const addToCartButton = adCard.querySelector('.add-to-cart-button');
      addToCartButton.addEventListener('click', function() {
        addToCart(advertisement);
      });

      const deleteButton = adCard.querySelector('.delete-btn');
      deleteButton.addEventListener('click', deleteAd);
    });
  }

  function renderReviews() {
    reviewsList.innerHTML = '';
    reviews.forEach(function(review, index) {
      const reviewCard = document.createElement('div');
      reviewCard.classList.add('card');
      const date = new Date(review.date).toLocaleDateString('en-US', {
        year: 'numeric',
        month: 'long',
        day: 'numeric'
      });
      reviewCard.innerHTML = `
        <h2>${review.name}</h2>
        <p>${review.message}</p>
        <p><strong>Дата:</strong> ${date}</p>
        <input type="checkbox" id="check${index}" ${review.completed ? 'checked' : ''}>
        <label for="check${index}">Выполнено</label>
      `;
      reviewsList.appendChild(reviewCard);

      const checkbox = reviewCard.querySelector(`#check${index}`);
      checkbox.addEventListener('change', function() {
        review.completed = checkbox.checked;
        saveReviews();
      });
    });
  }

  function renderCart() {
    cartList.innerHTML = '';
    cart.forEach(function(item, index) {
      const cartItem = document.createElement('div');
      cartItem.classList.add('card');
      cartItem.innerHTML = `
        <h2>${item.title}</h2>
        <p><strong>Цена:</strong> ${item.price}</p>
        <p>${item.description}</p>
        <img src="${item.image}" alt="${item.title}">
        <button class="remove-from-cart-button">Удалить</button>
      `;
      cartList.appendChild(cartItem);

      const removeFromCartButton = cartItem.querySelector('.remove-from-cart-button');
      removeFromCartButton.addEventListener('click', function() {
        removeFromCart(index);
      });
    });
  }

  function addToCart(item) {
    cart.push(item);
    saveCart();
    alert(`Добавлено в корзину: ${item.title}`);
  }

  function removeFromCart(index) {
    cart.splice(index, 1);
    saveCart();
  }

  function clearCart() {
    cart = [];
    saveCart();
  }

  function saveReviews() {
    localStorage.setItem('reviews', JSON.stringify(reviews));
    renderReviews();
  }

  function saveUsers() {
    localStorage.setItem('users', JSON.stringify(users));
  }

  function saveAdvertisements() {
    localStorage.setItem('advertisements', JSON.stringify(advertisements));
    renderAdvertisements();
  }

  function saveCart() {
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
  }

  function renderTasks() {
    todoList.innerHTML = '';
    tasks.forEach(function(task, index) {
      const taskItem = document.createElement('div');
      taskItem.classList.add('task-item');
      taskItem.innerHTML = `
        <input type="checkbox" id="task${index}" ${task.completed ? 'checked' : ''}>
        <label for="task${index}" style="color: ${task.color};">${task.task} (${task.date})</label>
        <button class="delete-task-button">Удалить</button>
      `;
      todoList.appendChild(taskItem);

      const checkbox = taskItem.querySelector(`#task${index}`);
      checkbox.addEventListener('change', function() {
        tasks[index].completed = checkbox.checked;
        saveTasks();
      });

      const deleteButton = taskItem.querySelector('.delete-task-button');
      deleteButton.addEventListener('click', function() {
        deleteTask(index);
      });
    });
  }

  function saveTasks() {
    localStorage.setItem('tasks', JSON.stringify(tasks));
    renderTasks();
  }

  function deleteTask(index) {
    tasks.splice(index, 1);
    saveTasks();
  }

  todoForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const taskInput = document.getElementById('task');
    const taskDateInput = document.getElementById('taskDate');
    const taskColorInput = document.getElementById('taskColor');

    const task = taskInput.value.trim();
    const date = taskDateInput.value;
    const color = taskColorInput.value;

    if (task && date) {
      const newTask = {
        task,
        date,
        color,
        completed: false
      };

      tasks.push(newTask);
      saveTasks();

      todoForm.reset();
    } else {
      alert('Пожалуйста, заполните все поля формы.');
    }
  });

  registrationForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    if (username && password) {
      const newUser = {
        username,
        password
      };

      users.push(newUser);
      saveUsers();

      registrationForm.reset();
      alert('Пользователь зарегистрирован.');

      registrationDiv.classList.add('hidden');
      loginDiv.classList.add('hidden');
      advertisementsDiv.classList.remove('hidden');
    } else {
      alert('Пожалуйста, заполните все поля формы.');
    }
  });

  userLoginForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const username = document.getElementById('loginUsername').value;
    const password = document.getElementById('loginPassword').value;

    const user = users.find(user => user.username === username && user.password === password);

    if (user) {
      alert('Вход выполнен успешно!');

      registrationDiv.classList.add('hidden');
      loginDiv.classList.add('hidden');
      advertisementsDiv.classList.remove('hidden');
    } else {
      alert('Неверное имя пользователя или пароль.');
    }
  });

  adForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const title = document.getElementById('adTitle').value;
    const price = document.getElementById('adPrice').value;
    const description = document.getElementById('adDescription').value;
    const imageInput = document.getElementById('adImage');
    const imageFile = imageInput.files[0];

    if (title && price && description && imageFile) {
      const reader = new FileReader();
      reader.onload = function(e) {
        const newAd = {
          title,
          price,
          description,
          image: e.target.result
        };

        advertisements.push(newAd);
        saveAdvertisements();

        adForm.reset();
      };

      reader.readAsDataURL(imageFile);
    } else {
      alert('Пожалуйста, заполните все поля формы и выберите изображение.');
    }
  });

  feedbackForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const name = document.getElementById('name').value;
    const message = document.getElementById('message').value;
    const date = new Date().toISOString();

    if (name && message) {
      const newReview = {
        name,
        message,
        date,
        completed: false
      };

      reviews.push(newReview);
      saveReviews();

      feedbackForm.reset();
    } else {
      alert('Пожалуйста, заполните все поля формы.');
    }
  });

  clearCartButton.addEventListener('click', function() {
    clearCart();
  });

  renderAdvertisements();
  renderReviews();
  renderCart();
  renderTasks();
});
</script>

<script>
  self.addEventListener('install', function(event) {
  event.waitUntil(
    caches.open('v1').then(function(cache) {
      return cache.addAll([
        '/',
        '/styles.css',
        '/script.js',
        '/icon-192x192.png',
        '/icon-512x512.png'
      ]);
    })
  );
});

self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request).then(function(response) {
      return response || fetch(event.request);
    })
  );
});
<script>
